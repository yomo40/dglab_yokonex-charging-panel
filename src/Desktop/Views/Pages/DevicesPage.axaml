<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="ChargingPanel.Desktop.Views.Pages.DevicesPage">
    
    <ScrollViewer>
        <StackPanel Spacing="20">
            
            <!-- è™šæ‹Ÿæµ‹è¯•è®¾å¤‡ -->
            <Border Background="#313244" CornerRadius="16" Padding="0" BoxShadow="0 4 12 0 #20000000">
                <StackPanel>
                    <Border CornerRadius="16,16,0,0" Padding="24,20">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                <GradientStop Offset="0" Color="#1E1E2E" />
                                <GradientStop Offset="1" Color="#262640" />
                            </LinearGradientBrush>
                        </Border.Background>
                        <Grid ColumnDefinitions="Auto,*">
                            <Border Background="#8b5cf620" CornerRadius="12" Padding="12" Margin="0,0,16,0">
                                <TextBlock Text="ðŸ§ª" FontSize="24" VerticalAlignment="Center" />
                            </Border>
                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock Text="è™šæ‹Ÿæµ‹è¯•è®¾å¤‡" FontWeight="Bold" Foreground="White" FontSize="18" />
                                <TextBlock Text="æ— éœ€çœŸå®žè®¾å¤‡å³å¯æµ‹è¯•äº‹ä»¶å’Œè„šæœ¬" Foreground="#A6ADC8" FontSize="12" Margin="0,4,0,0" />
                            </StackPanel>
                        </Grid>
                    </Border>
                    <StackPanel Margin="24">
                        <Grid ColumnDefinitions="*,*">
                            <Button Grid.Column="0" Padding="0" Height="80" Margin="0,0,8,0"
                                    CornerRadius="12" Click="OnAddVirtualDGLabClick">
                                <Button.Background>
                                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                        <GradientStop Offset="0" Color="#8b5cf6" />
                                        <GradientStop Offset="1" Color="#6d28d9" />
                                    </LinearGradientBrush>
                                </Button.Background>
                                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="6">
                                    <TextBlock Text="âš¡" FontSize="24" HorizontalAlignment="Center" />
                                    <TextBlock Text="æ·»åŠ è™šæ‹ŸéƒŠç‹¼" Foreground="White" FontSize="13" FontWeight="SemiBold" HorizontalAlignment="Center" />
                                </StackPanel>
                            </Button>
                            <Button Grid.Column="1" Padding="0" Height="80" Margin="8,0,0,0"
                                    CornerRadius="12" Click="OnAddVirtualYokonexClick">
                                <Button.Background>
                                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                        <GradientStop Offset="0" Color="#F59E0B" />
                                        <GradientStop Offset="1" Color="#D97706" />
                                    </LinearGradientBrush>
                                </Button.Background>
                                <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="6">
                                    <TextBlock Text="ðŸ“±" FontSize="24" HorizontalAlignment="Center" />
                                    <TextBlock Text="æ·»åŠ è™šæ‹Ÿå½¹æ¬¡å…ƒ" Foreground="White" FontSize="13" FontWeight="SemiBold" HorizontalAlignment="Center" />
                                </StackPanel>
                            </Button>
                        </Grid>
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <!-- æ·»åŠ çœŸå®žè®¾å¤‡ -->
            <Border Background="#313244" CornerRadius="16" Padding="0" BoxShadow="0 4 12 0 #20000000">
                <StackPanel>
                    <!-- æ ‡é¢˜åŒºåŸŸ - æ¸å˜èƒŒæ™¯ -->
                    <Border CornerRadius="16,16,0,0" Padding="24,20">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                <GradientStop Offset="0" Color="#1E1E2E" />
                                <GradientStop Offset="1" Color="#262640" />
                            </LinearGradientBrush>
                        </Border.Background>
                        <Grid ColumnDefinitions="Auto,*,Auto">
                            <Border Background="#10B98120" CornerRadius="12" Padding="12" Margin="0,0,16,0">
                                <TextBlock Text="ðŸŽ®" FontSize="24" VerticalAlignment="Center" />
                            </Border>
                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock Text="æ·»åŠ çœŸå®žè®¾å¤‡" FontWeight="Bold" Foreground="White" FontSize="18" />
                                <TextBlock Text="é€‰æ‹©è®¾å¤‡ç±»åž‹å¹¶é…ç½®è¿žæŽ¥å‚æ•°" Foreground="#A6ADC8" FontSize="12" Margin="0,4,0,0" />
                            </StackPanel>
                            <!-- å¿«æ·æ·»åŠ æŒ‰é’® -->
                            <StackPanel Grid.Column="2" Orientation="Horizontal" Spacing="8" VerticalAlignment="Center">
                                <Button Padding="12,8" CornerRadius="8" 
                                        ToolTip.Tip="å¿«é€Ÿæ·»åŠ éƒŠç‹¼ (WebSocket)"
                                        Click="OnQuickAddDGLabClick">
                                    <Button.Background>
                                        <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                            <GradientStop Offset="0" Color="#8b5cf6" />
                                            <GradientStop Offset="1" Color="#6d28d9" />
                                        </LinearGradientBrush>
                                    </Button.Background>
                                    <StackPanel Orientation="Horizontal" Spacing="6">
                                        <TextBlock Text="âš¡" FontSize="14" VerticalAlignment="Center" />
                                        <TextBlock Text="éƒŠç‹¼" Foreground="White" FontSize="12" FontWeight="SemiBold" VerticalAlignment="Center" />
                                    </StackPanel>
                                </Button>
                                <Button Padding="12,8" CornerRadius="8"
                                        ToolTip.Tip="å¿«é€Ÿæ‰«æå½¹æ¬¡å…ƒè“ç‰™è®¾å¤‡"
                                        Click="OnQuickAddYokonexClick">
                                    <Button.Background>
                                        <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                            <GradientStop Offset="0" Color="#F59E0B" />
                                            <GradientStop Offset="1" Color="#D97706" />
                                        </LinearGradientBrush>
                                    </Button.Background>
                                    <StackPanel Orientation="Horizontal" Spacing="6">
                                        <TextBlock Text="ðŸ“±" FontSize="14" VerticalAlignment="Center" />
                                        <TextBlock Text="å½¹æ¬¡å…ƒ" Foreground="White" FontSize="12" FontWeight="SemiBold" VerticalAlignment="Center" />
                                    </StackPanel>
                                </Button>
                            </StackPanel>
                        </Grid>
                    </Border>
                    
                    <StackPanel Margin="24">
                        <!-- è®¾å¤‡ç±»åž‹é€‰æ‹© - å¤§å›¾æ ‡å¡ç‰‡æ ·å¼ -->
                        <TextBlock Text="é€‰æ‹©è®¾å¤‡åŽ‚å•†" Foreground="#CDD6F4" FontWeight="SemiBold" FontSize="13" Margin="0,0,0,12" />
                        <Grid ColumnDefinitions="*,*" Margin="0,0,0,20">
                            <!-- DG-LAB éƒŠç‹¼ -->
                            <Button x:Name="TabDGLab" Grid.Column="0"
                                    Padding="0" Height="100" Margin="0,0,8,0"
                                    CornerRadius="14"
                                    Click="OnTabDGLabClick">
                                <Button.Background>
                                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                        <GradientStop Offset="0" Color="#1E1E2E" />
                                        <GradientStop Offset="1" Color="#252538" />
                                    </LinearGradientBrush>
                                </Button.Background>
                                <Button.Styles>
                                    <Style Selector="Button">
                                        <Setter Property="BorderBrush" Value="#8b5cf6"/>
                                        <Setter Property="BorderThickness" Value="2"/>
                                    </Style>
                                </Button.Styles>
                                <Grid ColumnDefinitions="Auto,*">
                                    <Border Grid.Column="0" Background="#8b5cf620" CornerRadius="12" Width="56" Height="56" Margin="16,0,0,0" ClipToBounds="True">
                                        <Image Source="avares://éƒŠç‹¼å½¹æ¬¡å…ƒæ¸¸æˆé€‚é…é¢æ¿/Assets/Icons/dglab.png" 
                                               Width="48" Height="48"
                                               Stretch="Uniform"
                                               HorizontalAlignment="Center" VerticalAlignment="Center" />
                                    </Border>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="14,0,16,0">
                                        <TextBlock Text="DG-LAB" FontSize="15" FontWeight="Bold" Foreground="White" />
                                        <TextBlock Text="éƒŠç‹¼è„‰å†²ä¸»æœº" FontSize="11" Foreground="#A6ADC8" Margin="0,2,0,0" />
                                    </StackPanel>
                                </Grid>
                            </Button>
                            
                            <!-- å½¹æ¬¡å…ƒ -->
                            <Button x:Name="TabYokonex" Grid.Column="1"
                                    Padding="0" Height="100" Margin="8,0,0,0"
                                    CornerRadius="14"
                                    BorderBrush="#45475A" BorderThickness="2"
                                    Click="OnTabYokonexClick">
                                <Button.Background>
                                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                        <GradientStop Offset="0" Color="#1E1E2E" />
                                        <GradientStop Offset="1" Color="#252538" />
                                    </LinearGradientBrush>
                                </Button.Background>
                                <Grid ColumnDefinitions="Auto,*">
                                    <Border Grid.Column="0" Background="#F59E0B20" CornerRadius="12" Width="56" Height="56" Margin="16,0,0,0" ClipToBounds="True">
                                        <Image Source="avares://éƒŠç‹¼å½¹æ¬¡å…ƒæ¸¸æˆé€‚é…é¢æ¿/Assets/Icons/yokonex.png" 
                                               Width="48" Height="48"
                                               Stretch="Uniform"
                                               HorizontalAlignment="Center" VerticalAlignment="Center" />
                                    </Border>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="14,0,16,0">
                                        <TextBlock Text="å½¹æ¬¡å…ƒ" FontSize="15" FontWeight="Bold" Foreground="White" />
                                        <TextBlock Text="ç”µå‡»/è·³è›‹/çŒè‚ /é£žæœºæ¯" FontSize="11" Foreground="#A6ADC8" Margin="0,2,0,0" />
                                    </StackPanel>
                                </Grid>
                            </Button>
                        </Grid>
                        
                        <!-- DG-LAB è¡¨å• -->
                        <StackPanel x:Name="FormDGLab" IsVisible="True">
                            <!-- è®¾å¤‡ä¿¡æ¯å¡ç‰‡ - å¢žå¼ºæ ·å¼ -->
                            <Border CornerRadius="12" Padding="20" Margin="0,0,0,24" BoxShadow="0 2 8 0 #108b5cf6">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,0%">
                                        <GradientStop Offset="0" Color="#1E1E2E" />
                                        <GradientStop Offset="1" Color="#252538" />
                                    </LinearGradientBrush>
                                </Border.Background>
                                <Border.BorderBrush>
                                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="0%,100%">
                                        <GradientStop Offset="0" Color="#8b5cf6" />
                                        <GradientStop Offset="1" Color="#8b5cf640" />
                                    </LinearGradientBrush>
                                </Border.BorderBrush>
                                <Border.BorderThickness>2,0,0,0</Border.BorderThickness>
                                <Grid ColumnDefinitions="Auto,*">
                                    <Border Background="#8b5cf620" CornerRadius="10" Padding="12" Margin="0,0,16,0">
                                        <TextBlock Text="âš¡" FontSize="28" VerticalAlignment="Center" />
                                    </Border>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <TextBlock Text="DG-LAB éƒŠç‹¼è„‰å†²ä¸»æœº 3.0" Foreground="#8b5cf6" FontWeight="Bold" FontSize="15" />
                                        <TextBlock Text="æ”¯æŒå¼ºåº¦æŽ§åˆ¶ (0-200)ã€æ³¢å½¢å‘é€ (HEXæ ¼å¼)ã€æ³¢å½¢é˜Ÿåˆ—æ¸…ç©ºã€APPåé¦ˆæŽ¥æ”¶" 
                                                   Foreground="#A6ADC8" FontSize="12" TextWrapping="Wrap" Margin="0,6,0,0" LineHeight="20" />
                                    </StackPanel>
                                </Grid>
                            </Border>
                            
                            <!-- è¿žæŽ¥æ–¹å¼é€‰æ‹© - æ¨ªå‘å¡ç‰‡æ ·å¼ -->
                            <TextBlock Text="é€‰æ‹©è¿žæŽ¥æ–¹å¼" Foreground="#CDD6F4" FontWeight="SemiBold" FontSize="13" Margin="0,0,0,12" />
                            <Grid ColumnDefinitions="*,*" Margin="0,0,0,20">
                                <Button x:Name="BtnDGLabWS" Grid.Column="0"
                                        Padding="0" Height="90" Margin="0,0,8,0"
                                        CornerRadius="14"
                                        BorderBrush="#8b5cf6" BorderThickness="2"
                                        Click="OnDGLabConnModeWSClick">
                                    <Button.Background>
                                        <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                            <GradientStop Offset="0" Color="#1E1E2E" />
                                            <GradientStop Offset="1" Color="#252538" />
                                        </LinearGradientBrush>
                                    </Button.Background>
                                    <Grid ColumnDefinitions="Auto,*">
                                        <Border Grid.Column="0" CornerRadius="12" Width="48" Height="48" Margin="14,0,0,0">
                                            <Border.Background>
                                                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                                    <GradientStop Offset="0" Color="#8b5cf6" />
                                                    <GradientStop Offset="1" Color="#6d28d9" />
                                                </LinearGradientBrush>
                                            </Border.Background>
                                            <TextBlock Text="ðŸŒ" FontSize="22" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                        </Border>
                                        <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="12,0,14,0">
                                            <TextBlock Text="WebSocket" FontSize="14" FontWeight="Bold" Foreground="White" />
                                            <TextBlock Text="é€šè¿‡APPä¸­è½¬è¿žæŽ¥" FontSize="10" Foreground="#A6ADC8" Margin="0,2,0,0" />
                                        </StackPanel>
                                    </Grid>
                                </Button>
                                <Button x:Name="BtnDGLabBT" Grid.Column="1"
                                        Padding="0" Height="90" Margin="8,0,0,0"
                                        CornerRadius="14"
                                        BorderBrush="#45475A" BorderThickness="2"
                                        Click="OnDGLabConnModeBTClick">
                                    <Button.Background>
                                        <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                            <GradientStop Offset="0" Color="#1E1E2E" />
                                            <GradientStop Offset="1" Color="#252538" />
                                        </LinearGradientBrush>
                                    </Button.Background>
                                    <Grid ColumnDefinitions="Auto,*">
                                        <Border Grid.Column="0" CornerRadius="12" Width="48" Height="48" Margin="14,0,0,0">
                                            <Border.Background>
                                                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                                    <GradientStop Offset="0" Color="#3B82F6" />
                                                    <GradientStop Offset="1" Color="#2563EB" />
                                                </LinearGradientBrush>
                                            </Border.Background>
                                            <TextBlock Text="ðŸ“¡" FontSize="22" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                        </Border>
                                        <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="12,0,14,0">
                                            <TextBlock Text="è“ç‰™ç›´è¿ž" FontSize="14" FontWeight="Bold" Foreground="White" />
                                            <TextBlock Text="ç›´æŽ¥è¿žæŽ¥è®¾å¤‡" FontSize="10" Foreground="#A6ADC8" Margin="0,2,0,0" />
                                        </StackPanel>
                                    </Grid>
                                </Button>
                            </Grid>
                            
                            <!-- WebSocket è¡¨å•åŒºåŸŸ -->
                            <StackPanel x:Name="DGLabWSForm" IsVisible="True">
                                <!-- è®¾å¤‡åç§° -->
                                <StackPanel Margin="0,0,0,20">
                                    <TextBlock Text="è®¾å¤‡åç§°" Foreground="#CDD6F4" FontSize="13" FontWeight="SemiBold" Margin="0,0,0,8" />
                                    <TextBox x:Name="DGLabDeviceName" Text="æˆ‘çš„éƒŠç‹¼" 
                                             Background="#1E1E2E" Foreground="White"
                                             BorderBrush="#45475A" CornerRadius="10" Padding="14,12" FontSize="14" />
                                </StackPanel>
                                
                                <!-- æœåŠ¡å™¨é€‰æ‹© -->
                                <StackPanel Margin="0,0,0,20">
                                    <TextBlock Text="æœåŠ¡å™¨" Foreground="#CDD6F4" FontSize="13" FontWeight="SemiBold" Margin="0,0,0,8" />
                                    <Grid ColumnDefinitions="*,*">
                                        <Button x:Name="BtnOfficialServer" Grid.Column="0"
                                                Background="#1E1E2E" Foreground="White"
                                                Padding="0" Height="56" Margin="0,0,8,0"
                                                CornerRadius="10"
                                                BorderBrush="#10B981" BorderThickness="2"
                                                Click="OnOfficialServerClick">
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="10">
                                                <Border Background="#10B98120" CornerRadius="6" Padding="6">
                                                    <TextBlock Text="âœ…" FontSize="16" VerticalAlignment="Center" />
                                                </Border>
                                                <TextBlock Text="å®˜æ–¹æœåŠ¡å™¨" FontSize="13" FontWeight="SemiBold" VerticalAlignment="Center" />
                                            </StackPanel>
                                        </Button>
                                        <Button x:Name="BtnCustomServer" Grid.Column="1"
                                                Background="#1E1E2E" Foreground="#A6ADC8"
                                                Padding="0" Height="56" Margin="8,0,0,0"
                                                CornerRadius="10"
                                                BorderBrush="#45475A" BorderThickness="2"
                                                Click="OnCustomServerClick">
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Spacing="10">
                                                <Border Background="#6B728020" CornerRadius="6" Padding="6">
                                                    <TextBlock Text="âš™ï¸" FontSize="16" VerticalAlignment="Center" />
                                                </Border>
                                                <TextBlock Text="è‡ªå®šä¹‰æœåŠ¡å™¨" FontSize="13" FontWeight="SemiBold" VerticalAlignment="Center" />
                                            </StackPanel>
                                        </Button>
                                    </Grid>
                                </StackPanel>
                                
                                <!-- è‡ªå®šä¹‰æœåŠ¡å™¨åœ°å€ (é»˜è®¤éšè—) -->
                                <StackPanel x:Name="CustomServerPanel" IsVisible="False" Margin="0,0,0,20">
                                    <TextBlock Text="è‡ªå®šä¹‰ WebSocket åœ°å€" Foreground="#CDD6F4" FontSize="13" FontWeight="SemiBold" Margin="0,0,0,8" />
                                    <TextBox x:Name="DGLabWsUrl" Text="" 
                                             Watermark="ws://127.0.0.1:9000"
                                             Background="#1E1E2E" Foreground="White"
                                             BorderBrush="#45475A" CornerRadius="10" Padding="14,12" FontSize="14" />
                                    <Border Background="#F59E0B10" CornerRadius="8" Padding="12" Margin="0,8,0,0">
                                        <StackPanel Orientation="Horizontal" Spacing="8">
                                            <TextBlock Text="ðŸ’¡" FontSize="14" />
                                            <TextBlock Text="ç•™ç©ºåˆ™ä½¿ç”¨å®˜æ–¹æœåŠ¡å™¨ wss://ws.dungeon-lab.cn" 
                                                       Foreground="#F59E0B" FontSize="12" VerticalAlignment="Center" />
                                        </StackPanel>
                                    </Border>
                                </StackPanel>
                                
                                <!-- è¿žæŽ¥æ­¥éª¤ - å¢žå¼ºæ ·å¼ -->
                                <Border Background="#1E1E2E" CornerRadius="12" Padding="20" Margin="0,0,0,20" BorderBrush="#313244" BorderThickness="1">
                                    <StackPanel>
                                        <StackPanel Orientation="Horizontal" Spacing="10" Margin="0,0,0,16">
                                            <Border Background="#3B82F620" CornerRadius="8" Padding="8">
                                                <TextBlock Text="ðŸ“–" FontSize="16" />
                                            </Border>
                                            <TextBlock Text="è¿žæŽ¥æ­¥éª¤" Foreground="White" FontWeight="Bold" FontSize="14" VerticalAlignment="Center" />
                                        </StackPanel>
                                        <StackPanel Spacing="12">
                                            <StackPanel Orientation="Horizontal" Spacing="12">
                                                <Border Background="#8b5cf6" CornerRadius="50" Width="24" Height="24">
                                                    <TextBlock Text="1" Foreground="White" FontWeight="Bold" FontSize="12" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                </Border>
                                                <TextBlock Text="ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®æ·»åŠ è®¾å¤‡" Foreground="#CDD6F4" FontSize="13" VerticalAlignment="Center" />
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" Spacing="12">
                                                <Border Background="#8b5cf6" CornerRadius="50" Width="24" Height="24">
                                                    <TextBlock Text="2" Foreground="White" FontWeight="Bold" FontSize="12" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                </Border>
                                                <TextBlock Text="åœ¨å¼¹å‡ºçª—å£ä¸­ç”¨éƒŠç‹¼ APP æ‰«æäºŒç»´ç " Foreground="#CDD6F4" FontSize="13" VerticalAlignment="Center" />
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" Spacing="12">
                                                <Border Background="#10B981" CornerRadius="50" Width="24" Height="24">
                                                    <TextBlock Text="âœ“" Foreground="White" FontWeight="Bold" FontSize="12" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                </Border>
                                                <TextBlock Text="APP ç»‘å®šæˆåŠŸåŽå³å¯æŽ§åˆ¶è®¾å¤‡" Foreground="#10B981" FontSize="13" VerticalAlignment="Center" />
                                            </StackPanel>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                                
                                <!-- æ·»åŠ æŒ‰é’® - å¢žå¼ºæ ·å¼ -->
                                <Button HorizontalAlignment="Stretch" Height="52" CornerRadius="12" FontWeight="Bold" FontSize="15"
                                        Click="OnAddDGLabWSClick">
                                    <Button.Background>
                                        <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,0%">
                                            <GradientStop Offset="0" Color="#8b5cf6" />
                                            <GradientStop Offset="1" Color="#a855f7" />
                                        </LinearGradientBrush>
                                    </Button.Background>
                                    <StackPanel Orientation="Horizontal" Spacing="10">
                                        <TextBlock Text="ðŸ”—" FontSize="18" VerticalAlignment="Center" />
                                        <TextBlock Text="è¿žæŽ¥éƒŠç‹¼ APP" Foreground="White" FontSize="15" FontWeight="Bold" VerticalAlignment="Center" />
                                    </StackPanel>
                                </Button>
                            </StackPanel>
                            
                            <!-- è“ç‰™æ‰«æåŒºåŸŸ -->
                            <StackPanel x:Name="DGLabBTForm" IsVisible="False">
                                <Border Background="#1E1E2E" CornerRadius="12" Padding="20">
                                    <StackPanel Spacing="16">
                                        <!-- DG-LAB ç‰ˆæœ¬é€‰æ‹© - ä¼˜åŒ–æŽ’ç‰ˆ -->
                                        <StackPanel Margin="0,0,0,8">
                                            <TextBlock Text="é€‰æ‹©è®¾å¤‡ç‰ˆæœ¬" Foreground="#CDD6F4" FontWeight="SemiBold" FontSize="13" Margin="0,0,0,12" />
                                            <Grid ColumnDefinitions="*,*" Margin="0,0,0,4">
                                                <Button x:Name="BtnDGLabV2" Grid.Column="0"
                                                        Padding="0" Height="80" Margin="0,0,8,0"
                                                        CornerRadius="12"
                                                        BorderBrush="#45475A" BorderThickness="2"
                                                        Click="OnDGLabVersionV2Click">
                                                    <Button.Background>
                                                        <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                                            <GradientStop Offset="0" Color="#1E1E2E" />
                                                            <GradientStop Offset="1" Color="#252538" />
                                                        </LinearGradientBrush>
                                                    </Button.Background>
                                                    <Grid ColumnDefinitions="Auto,*">
                                                        <Border Grid.Column="0" Background="#6B728020" CornerRadius="10" Width="44" Height="44" Margin="12,0,0,0">
                                                            <TextBlock Text="âš¡" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                        </Border>
                                                        <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="10,0,12,0">
                                                            <TextBlock Text="V2 ç‰ˆæœ¬" FontSize="14" FontWeight="Bold" Foreground="#A6ADC8" />
                                                            <TextBlock Text="D-LAB ESTIM01" FontSize="10" Foreground="#6B7280" Margin="0,2,0,0" />
                                                        </StackPanel>
                                                    </Grid>
                                                </Button>
                                                <Button x:Name="BtnDGLabV3" Grid.Column="1"
                                                        Padding="0" Height="80" Margin="8,0,0,0"
                                                        CornerRadius="12"
                                                        BorderBrush="#8b5cf6" BorderThickness="2"
                                                        Click="OnDGLabVersionV3Click">
                                                    <Button.Background>
                                                        <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                                            <GradientStop Offset="0" Color="#1E1E2E" />
                                                            <GradientStop Offset="1" Color="#252538" />
                                                        </LinearGradientBrush>
                                                    </Button.Background>
                                                    <Grid ColumnDefinitions="Auto,*">
                                                        <Border Grid.Column="0" CornerRadius="10" Width="44" Height="44" Margin="12,0,0,0">
                                                            <Border.Background>
                                                                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                                                    <GradientStop Offset="0" Color="#8b5cf6" />
                                                                    <GradientStop Offset="1" Color="#6d28d9" />
                                                                </LinearGradientBrush>
                                                            </Border.Background>
                                                            <TextBlock Text="âš¡" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                        </Border>
                                                        <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="10,0,12,0">
                                                            <TextBlock Text="V3 ç‰ˆæœ¬" FontSize="14" FontWeight="Bold" Foreground="White" />
                                                            <TextBlock Text="47L121000 (æŽ¨è)" FontSize="10" Foreground="#8b5cf6" Margin="0,2,0,0" />
                                                        </StackPanel>
                                                    </Grid>
                                                </Button>
                                            </Grid>
                                        </StackPanel>
                                        
                                        <Grid ColumnDefinitions="*,Auto">
                                            <StackPanel>
                                                <TextBlock Text="ðŸ”µ è“ç‰™è®¾å¤‡æ‰«æ" Foreground="White" FontWeight="SemiBold" FontSize="14" />
                                                <TextBlock x:Name="DGLabBTVersionHint" Text="æ‰«æé™„è¿‘çš„ DG-LAB V3 è®¾å¤‡ (47L121000)" Foreground="#A6ADC8" FontSize="12" Margin="0,4,0,0" />
                                            </StackPanel>
                                            <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8">
                                                <Button x:Name="BtnDiagnoseDGLab" Content="ðŸ”§ è¯Šæ–­" 
                                                        Background="#F59E0B" Foreground="White" 
                                                        Padding="16,8" CornerRadius="8"
                                                        Click="OnDiagnoseBluetoothClick" />
                                                <Button x:Name="BtnScanDGLab" Content="ðŸ” æ‰«æè®¾å¤‡" 
                                                        Background="#3B82F6" Foreground="White" 
                                                        Padding="16,8" CornerRadius="8"
                                                        Click="OnScanDGLabBTClick" />
                                            </StackPanel>
                                        </Grid>
                                        
                                        <!-- é»˜è®¤æç¤ºä¿¡æ¯ -->
                                        <Border Background="#313244" CornerRadius="8" Padding="16" MinHeight="100">
                                            <StackPanel x:Name="DGLabBTDeviceList" HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="8">
                                                <TextBlock Text="ðŸ“¡ æš‚æ— æ”¯æŒçš„è®¾å¤‡" 
                                                           Foreground="#F59E0B" FontSize="14" FontWeight="SemiBold"
                                                           HorizontalAlignment="Center" />
                                                <TextBlock x:Name="DGLabBTScanHint" 
                                                           Text="ç‚¹å‡»ã€Œæ‰«æè®¾å¤‡ã€æŒ‰é’®æœç´¢é™„è¿‘çš„è“ç‰™è®¾å¤‡" 
                                                           Foreground="#A6ADC8" FontSize="12"
                                                           HorizontalAlignment="Center" TextWrapping="Wrap" TextAlignment="Center" />
                                            </StackPanel>
                                        </Border>
                                        
                                        <!-- æç¤ºå¡ç‰‡ -->
                                        <Border Background="#F59E0B10" CornerRadius="8" Padding="12">
                                            <StackPanel Orientation="Horizontal" Spacing="10">
                                                <TextBlock Text="ðŸ’¡" FontSize="16" />
                                                <TextBlock Text="è¯·ç¡®ä¿è®¾å¤‡å·²å¼€å¯å¹¶åœ¨è“ç‰™èŒƒå›´å†…ã€‚å¦‚æžœæ‰«æä¸åˆ°è®¾å¤‡ï¼Œè¯·ç‚¹å‡»è¯Šæ–­æŒ‰é’®æ£€æŸ¥è“ç‰™çŠ¶æ€ã€‚" 
                                                           Foreground="#F59E0B" FontSize="12" TextWrapping="Wrap" VerticalAlignment="Center" />
                                            </StackPanel>
                                        </Border>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </StackPanel>
                        
                        <!-- å½¹æ¬¡å…ƒè¡¨å• -->
                        <StackPanel x:Name="FormYokonex" IsVisible="False">
                            <!-- è®¾å¤‡ç±»åž‹é€‰æ‹© - å››ç§å½¹æ¬¡å…ƒè®¾å¤‡ - ä¼˜åŒ–æŽ’ç‰ˆ -->
                            <TextBlock Text="é€‰æ‹©è®¾å¤‡ç±»åž‹" Foreground="#CDD6F4" FontWeight="SemiBold" FontSize="13" Margin="0,0,0,12" />
                            <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto" Margin="0,0,0,24">
                                <!-- ç”µå‡»å™¨ -->
                                <Button x:Name="BtnYokonexEstim" Grid.Column="0" Grid.Row="0"
                                        Padding="0" Height="80" Margin="0,0,8,8"
                                        CornerRadius="12"
                                        BorderBrush="#F59E0B" BorderThickness="2"
                                        Click="OnYokonexDeviceTypeClick" Tag="Estim">
                                    <Button.Background>
                                        <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                            <GradientStop Offset="0" Color="#1E1E2E" />
                                            <GradientStop Offset="1" Color="#252538" />
                                        </LinearGradientBrush>
                                    </Button.Background>
                                    <Grid ColumnDefinitions="Auto,*">
                                        <Border Grid.Column="0" CornerRadius="10" Width="44" Height="44" Margin="12,0,0,0">
                                            <Border.Background>
                                                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                                    <GradientStop Offset="0" Color="#F59E0B" />
                                                    <GradientStop Offset="1" Color="#D97706" />
                                                </LinearGradientBrush>
                                            </Border.Background>
                                            <TextBlock Text="ðŸ”Œ" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                        </Border>
                                        <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="10,0,12,0">
                                            <TextBlock Text="ç”µå‡»å™¨" FontSize="14" FontWeight="Bold" Foreground="#F59E0B" />
                                            <TextBlock Text="276çº§ Â· 16æ¨¡å¼" FontSize="10" Foreground="#A6ADC8" Margin="0,2,0,0" />
                                        </StackPanel>
                                    </Grid>
                                </Button>
                                
                                <!-- çŒè‚ å™¨ -->
                                <Button x:Name="BtnYokonexEnema" Grid.Column="1" Grid.Row="0"
                                        Padding="0" Height="80" Margin="8,0,0,8"
                                        CornerRadius="12"
                                        BorderBrush="#45475A" BorderThickness="2"
                                        Click="OnYokonexDeviceTypeClick" Tag="Enema">
                                    <Button.Background>
                                        <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                            <GradientStop Offset="0" Color="#1E1E2E" />
                                            <GradientStop Offset="1" Color="#252538" />
                                        </LinearGradientBrush>
                                    </Button.Background>
                                    <Grid ColumnDefinitions="Auto,*">
                                        <Border Grid.Column="0" Background="#10B98120" CornerRadius="10" Width="44" Height="44" Margin="12,0,0,0">
                                            <TextBlock Text="ðŸ’‰" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                        </Border>
                                        <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="10,0,12,0">
                                            <TextBlock Text="çŒè‚ å™¨" FontSize="14" FontWeight="Bold" Foreground="#A6ADC8" />
                                            <TextBlock Text="è •åŠ¨æ³µ Â· æŠ½æ°´æ³µ" FontSize="10" Foreground="#6B7280" Margin="0,2,0,0" />
                                        </StackPanel>
                                    </Grid>
                                </Button>
                                
                                <!-- è·³è›‹ -->
                                <Button x:Name="BtnYokonexVibrator" Grid.Column="0" Grid.Row="1"
                                        Padding="0" Height="80" Margin="0,8,8,0"
                                        CornerRadius="12"
                                        BorderBrush="#45475A" BorderThickness="2"
                                        Click="OnYokonexDeviceTypeClick" Tag="Vibrator">
                                    <Button.Background>
                                        <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                            <GradientStop Offset="0" Color="#1E1E2E" />
                                            <GradientStop Offset="1" Color="#252538" />
                                        </LinearGradientBrush>
                                    </Button.Background>
                                    <Grid ColumnDefinitions="Auto,*">
                                        <Border Grid.Column="0" Background="#EC489920" CornerRadius="10" Width="44" Height="44" Margin="12,0,0,0">
                                            <TextBlock Text="ðŸ’—" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                        </Border>
                                        <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="10,0,12,0">
                                            <TextBlock Text="è·³è›‹" FontSize="14" FontWeight="Bold" Foreground="#A6ADC8" />
                                            <TextBlock Text="å¤šé©¬è¾¾ Â· 20çº§" FontSize="10" Foreground="#6B7280" Margin="0,2,0,0" />
                                        </StackPanel>
                                    </Grid>
                                </Button>
                                
                                <!-- é£žæœºæ¯ -->
                                <Button x:Name="BtnYokonexCup" Grid.Column="1" Grid.Row="1"
                                        Padding="0" Height="80" Margin="8,8,0,0"
                                        CornerRadius="12"
                                        BorderBrush="#45475A" BorderThickness="2"
                                        Click="OnYokonexDeviceTypeClick" Tag="Cup">
                                    <Button.Background>
                                        <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                            <GradientStop Offset="0" Color="#1E1E2E" />
                                            <GradientStop Offset="1" Color="#252538" />
                                        </LinearGradientBrush>
                                    </Button.Background>
                                    <Grid ColumnDefinitions="Auto,*">
                                        <Border Grid.Column="0" Background="#8B5CF620" CornerRadius="10" Width="44" Height="44" Margin="12,0,0,0">
                                            <TextBlock Text="ðŸ†" FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                        </Border>
                                        <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="10,0,12,0">
                                            <TextBlock Text="é£žæœºæ¯" FontSize="14" FontWeight="Bold" Foreground="#A6ADC8" />
                                            <TextBlock Text="å¤šé©¬è¾¾ Â· 20çº§" FontSize="10" Foreground="#6B7280" Margin="0,2,0,0" />
                                        </StackPanel>
                                    </Grid>
                                </Button>
                            </Grid>
                            
                            <!-- è®¾å¤‡ä¿¡æ¯å¡ç‰‡ - å¢žå¼ºæ ·å¼ -->
                            <Border x:Name="YokonexDeviceInfoCard" CornerRadius="12" Padding="20" Margin="0,0,0,24" BoxShadow="0 2 8 0 #10F59E0B">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,0%">
                                        <GradientStop Offset="0" Color="#1E1E2E" />
                                        <GradientStop Offset="1" Color="#252538" />
                                    </LinearGradientBrush>
                                </Border.Background>
                                <Border.BorderBrush>
                                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="0%,100%">
                                        <GradientStop Offset="0" Color="#F59E0B" />
                                        <GradientStop Offset="1" Color="#F59E0B40" />
                                    </LinearGradientBrush>
                                </Border.BorderBrush>
                                <Border.BorderThickness>2,0,0,0</Border.BorderThickness>
                                <Grid ColumnDefinitions="Auto,*">
                                    <Border Background="#F59E0B20" CornerRadius="10" Padding="12" Margin="0,0,16,0">
                                        <TextBlock x:Name="YokonexDeviceIcon" Text="ðŸ”Œ" FontSize="28" VerticalAlignment="Center" />
                                    </Border>
                                    <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                        <TextBlock x:Name="YokonexDeviceTitle" Text="å½¹æ¬¡å…ƒç”µå‡»å™¨" Foreground="#F59E0B" FontWeight="Bold" FontSize="15" />
                                        <TextBlock x:Name="YokonexDeviceDesc" Text="æ”¯æŒåŒé€šé“ EMS æŽ§åˆ¶ (276çº§å¼ºåº¦)ã€16ç§å›ºå®šæ¨¡å¼ã€è‡ªå®šä¹‰æ¨¡å¼ã€é©¬è¾¾æŽ§åˆ¶ã€è®¡æ­¥å™¨ã€è§’åº¦ä¼ æ„Ÿå™¨" 
                                                   Foreground="#A6ADC8" FontSize="12" TextWrapping="Wrap" Margin="0,6,0,0" LineHeight="20" />
                                    </StackPanel>
                                </Grid>
                            </Border>
                            
                            <!-- è¿žæŽ¥æ–¹å¼é€‰æ‹© - åœ†å½¢å›¾æ ‡å¡ç‰‡æ ·å¼ -->
                            <TextBlock Text="é€‰æ‹©è¿žæŽ¥æ–¹å¼" Foreground="#CDD6F4" FontWeight="SemiBold" FontSize="13" Margin="0,0,0,12" />
                            <Grid ColumnDefinitions="*,*" Margin="0,0,0,24">
                                <Button x:Name="BtnYokonexIM" Grid.Column="0"
                                        Padding="0" Height="130" Margin="0,0,12,0"
                                        CornerRadius="16"
                                        BorderBrush="#45475A" BorderThickness="2"
                                        Click="OnYokonexConnModeIMClick">
                                    <Button.Background>
                                        <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                            <GradientStop Offset="0" Color="#1E1E2E" />
                                            <GradientStop Offset="1" Color="#252538" />
                                        </LinearGradientBrush>
                                    </Button.Background>
                                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="12">
                                        <Border CornerRadius="50" Width="56" Height="56" HorizontalAlignment="Center">
                                            <Border.Background>
                                                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                                    <GradientStop Offset="0" Color="#F59E0B" />
                                                    <GradientStop Offset="1" Color="#D97706" />
                                                </LinearGradientBrush>
                                            </Border.Background>
                                            <TextBlock Text="â˜ï¸" FontSize="28" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                        </Border>
                                        <TextBlock Text="è…¾è®¯ IM è¿œç¨‹" FontSize="14" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center" />
                                        <TextBlock Text="é€šè¿‡äº‘ç«¯ä¸­è½¬æŽ§åˆ¶ (ä»…ç”µå‡»å™¨)" FontSize="11" Foreground="#A6ADC8" HorizontalAlignment="Center" />
                                    </StackPanel>
                                </Button>
                                <Button x:Name="BtnYokonexBT" Grid.Column="1"
                                        Padding="0" Height="130" Margin="12,0,0,0"
                                        CornerRadius="16"
                                        BorderBrush="#F59E0B" BorderThickness="2"
                                        Click="OnYokonexConnModeBTClick">
                                    <Button.Background>
                                        <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                            <GradientStop Offset="0" Color="#1E1E2E" />
                                            <GradientStop Offset="1" Color="#252538" />
                                        </LinearGradientBrush>
                                    </Button.Background>
                                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="12">
                                        <Border CornerRadius="50" Width="56" Height="56" HorizontalAlignment="Center">
                                            <Border.Background>
                                                <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                                    <GradientStop Offset="0" Color="#10B981" />
                                                    <GradientStop Offset="1" Color="#059669" />
                                                </LinearGradientBrush>
                                            </Border.Background>
                                            <TextBlock Text="ðŸ“¡" FontSize="28" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                        </Border>
                                        <TextBlock Text="è“ç‰™ç›´è¿ž" FontSize="14" FontWeight="Bold" Foreground="White" HorizontalAlignment="Center" />
                                        <TextBlock Text="æ”¯æŒæ‰€æœ‰è®¾å¤‡ç±»åž‹" FontSize="11" Foreground="#10B981" HorizontalAlignment="Center" />
                                    </StackPanel>
                                </Button>
                            </Grid>
                            
                            <!-- IM è¡¨å•åŒºåŸŸ -->
                            <StackPanel x:Name="YokonexIMForm" IsVisible="False">
                                <Grid ColumnDefinitions="*,*" Margin="0,0,0,16">
                                    <StackPanel Grid.Column="0" Margin="0,0,10,0">
                                        <TextBlock Text="è®¾å¤‡åç§°" Foreground="#CDD6F4" FontSize="13" FontWeight="SemiBold" Margin="0,0,0,8" />
                                        <TextBox x:Name="YokonexDeviceName" Text="æˆ‘çš„å½¹æ¬¡å…ƒ" 
                                                 Background="#1E1E2E" Foreground="White"
                                                 BorderBrush="#45475A" CornerRadius="10" Padding="14,12" FontSize="14" />
                                    </StackPanel>
                                    <StackPanel Grid.Column="1" Margin="10,0,0,0">
                                        <TextBlock Text="ç”¨æˆ· UID" Foreground="#CDD6F4" FontSize="13" FontWeight="SemiBold" Margin="0,0,0,8" />
                                        <TextBox x:Name="YokonexUid" Watermark="game_xxx" 
                                                 Background="#1E1E2E" Foreground="White"
                                                 BorderBrush="#45475A" CornerRadius="10" Padding="14,12" FontSize="14" />
                                    </StackPanel>
                                </Grid>
                                
                                <Grid ColumnDefinitions="*,*" Margin="0,0,0,20">
                                    <StackPanel Grid.Column="0" Margin="0,0,10,0">
                                        <TextBlock Text="æ¸¸æˆ Token" Foreground="#CDD6F4" FontSize="13" FontWeight="SemiBold" Margin="0,0,0,8" />
                                        <TextBox x:Name="YokonexToken" Watermark="ä»Žæ¸¸æˆé“¾æŽ¥èŽ·å–" 
                                                 Background="#1E1E2E" Foreground="White"
                                                 BorderBrush="#45475A" CornerRadius="10" Padding="14,12" FontSize="14" />
                                    </StackPanel>
                                    <StackPanel Grid.Column="1" Margin="10,0,0,0">
                                        <TextBlock Text="ç›®æ ‡ç”¨æˆ· ID" Foreground="#CDD6F4" FontSize="13" FontWeight="SemiBold" Margin="0,0,0,8" />
                                        <TextBox x:Name="YokonexTargetId" Watermark="è®¾å¤‡ç«¯ç”¨æˆ·ID" 
                                                 Background="#1E1E2E" Foreground="White"
                                                 BorderBrush="#45475A" CornerRadius="10" Padding="14,12" FontSize="14" />
                                    </StackPanel>
                                </Grid>
                                
                                <!-- è¿žæŽ¥æ­¥éª¤ - å¢žå¼ºæ ·å¼ -->
                                <Border Background="#1E1E2E" CornerRadius="12" Padding="20" Margin="0,0,0,20" BorderBrush="#313244" BorderThickness="1">
                                    <StackPanel>
                                        <StackPanel Orientation="Horizontal" Spacing="10" Margin="0,0,0,16">
                                            <Border Background="#F59E0B20" CornerRadius="8" Padding="8">
                                                <TextBlock Text="ðŸ“–" FontSize="16" />
                                            </Border>
                                            <TextBlock Text="è¿žæŽ¥æ­¥éª¤" Foreground="White" FontWeight="Bold" FontSize="14" VerticalAlignment="Center" />
                                        </StackPanel>
                                        <StackPanel Spacing="12">
                                            <StackPanel Orientation="Horizontal" Spacing="12">
                                                <Border Background="#F59E0B" CornerRadius="50" Width="24" Height="24">
                                                    <TextBlock Text="1" Foreground="White" FontWeight="Bold" FontSize="12" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                </Border>
                                                <TextBlock Text="åœ¨å½¹æ¬¡å…ƒ APP ä¸­åˆ›å»ºæ¸¸æˆå¹¶èŽ·å–é…ç½®" Foreground="#CDD6F4" FontSize="13" VerticalAlignment="Center" />
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" Spacing="12">
                                                <Border Background="#F59E0B" CornerRadius="50" Width="24" Height="24">
                                                    <TextBlock Text="2" Foreground="White" FontWeight="Bold" FontSize="12" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                </Border>
                                                <TextBlock Text="å¡«å†™ UID å’Œ Token (ä»Žæ¸¸æˆå¯åŠ¨é“¾æŽ¥èŽ·å–)" Foreground="#CDD6F4" FontSize="13" VerticalAlignment="Center" />
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" Spacing="12">
                                                <Border Background="#F59E0B" CornerRadius="50" Width="24" Height="24">
                                                    <TextBlock Text="3" Foreground="White" FontWeight="Bold" FontSize="12" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                </Border>
                                                <TextBlock Text="å¡«å†™ç›®æ ‡ç”¨æˆ· ID (è®¾å¤‡ç«¯)" Foreground="#CDD6F4" FontSize="13" VerticalAlignment="Center" />
                                            </StackPanel>
                                            <StackPanel Orientation="Horizontal" Spacing="12">
                                                <Border Background="#10B981" CornerRadius="50" Width="24" Height="24">
                                                    <TextBlock Text="âœ“" Foreground="White" FontWeight="Bold" FontSize="12" HorizontalAlignment="Center" VerticalAlignment="Center" />
                                                </Border>
                                                <TextBlock Text="æ·»åŠ è®¾å¤‡åŽï¼Œä½¿ç”¨äº‹ä»¶IDå‘é€æŒ‡ä»¤" Foreground="#10B981" FontSize="13" VerticalAlignment="Center" />
                                            </StackPanel>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>
                                
                                <!-- æ·»åŠ æŒ‰é’® - å¢žå¼ºæ ·å¼ -->
                                <Button HorizontalAlignment="Stretch" Height="52" CornerRadius="12" FontWeight="Bold" FontSize="15"
                                        Click="OnAddYokonexIMClick">
                                    <Button.Background>
                                        <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,0%">
                                            <GradientStop Offset="0" Color="#F59E0B" />
                                            <GradientStop Offset="1" Color="#D97706" />
                                        </LinearGradientBrush>
                                    </Button.Background>
                                    <StackPanel Orientation="Horizontal" Spacing="10">
                                        <TextBlock Text="âž•" FontSize="18" VerticalAlignment="Center" />
                                        <TextBlock Text="æ·»åŠ  IM è®¾å¤‡" Foreground="White" FontSize="15" FontWeight="Bold" VerticalAlignment="Center" />
                                    </StackPanel>
                                </Button>
                            </StackPanel>
                            
                            <!-- è“ç‰™æ‰«æåŒºåŸŸ -->
                            <StackPanel x:Name="YokonexBTForm" IsVisible="True">
                                <Border Background="#1E1E2E" CornerRadius="12" Padding="20">
                                    <StackPanel Spacing="16">
                                        <Grid ColumnDefinitions="*,Auto">
                                            <StackPanel>
                                                <TextBlock Text="ðŸŸ  è“ç‰™è®¾å¤‡æ‰«æ" Foreground="White" FontWeight="SemiBold" FontSize="14" />
                                                <TextBlock x:Name="YokonexBTScanDesc" Text="æ‰«æé™„è¿‘çš„å½¹æ¬¡å…ƒç”µå‡»å™¨è®¾å¤‡ (æœåŠ¡ UUID: FF30)" Foreground="#A6ADC8" FontSize="12" Margin="0,4,0,0" />
                                            </StackPanel>
                                            <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="8">
                                                <Button Content="ðŸ”§ è¯Šæ–­" 
                                                        Background="#F59E0B" Foreground="White" 
                                                        Padding="16,8" CornerRadius="8"
                                                        Click="OnDiagnoseBluetoothClick" />
                                                <Button x:Name="BtnScanYokonex" Content="ðŸ” æ‰«æè®¾å¤‡" 
                                                        Background="#10B981" Foreground="White" 
                                                        Padding="16,8" CornerRadius="8"
                                                        Click="OnScanYokonexBTClick" />
                                            </StackPanel>
                                        </Grid>
                                        
                                        <!-- æç¤ºä¿¡æ¯ -->
                                        <Border Background="#F59E0B10" CornerRadius="8" Padding="12">
                                            <StackPanel Orientation="Horizontal" Spacing="10">
                                                <TextBlock Text="ðŸ’¡" FontSize="16" />
                                                <TextBlock Text="è¯·ç¡®ä¿è®¾å¤‡å·²å¼€å¯å¹¶åœ¨è“ç‰™èŒƒå›´å†…ã€‚ä¸åŒç±»åž‹è®¾å¤‡å¯åŒæ—¶è¿žæŽ¥ï¼ˆåŒç±»åž‹åªèƒ½è¿žä¸€ä¸ªï¼‰ã€‚" 
                                                           Foreground="#F59E0B" FontSize="12" TextWrapping="Wrap" VerticalAlignment="Center" />
                                            </StackPanel>
                                        </Border>
                                        
                                        <!-- æ‰«æç»“æžœåˆ—è¡¨ -->
                                        <Border Background="#313244" CornerRadius="8" Padding="16" MinHeight="100">
                                            <StackPanel x:Name="YokonexBTDeviceList" HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="8">
                                                <TextBlock Text="ðŸ“¡ æš‚æ— æ”¯æŒçš„è®¾å¤‡" 
                                                           Foreground="#F59E0B" FontSize="14" FontWeight="SemiBold"
                                                           HorizontalAlignment="Center" />
                                                <TextBlock x:Name="YokonexBTScanHint" Text="ç‚¹å‡»ã€Œæ‰«æè®¾å¤‡ã€æŒ‰é’®æœç´¢é™„è¿‘çš„è“ç‰™è®¾å¤‡" 
                                                           Foreground="#A6ADC8" FontSize="12"
                                                           HorizontalAlignment="Center" TextWrapping="Wrap" TextAlignment="Center" />
                                            </StackPanel>
                                        </Border>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <!-- å·²æ·»åŠ è®¾å¤‡ -->
            <Border Background="#313244" CornerRadius="16" Padding="0" BoxShadow="0 4 12 0 #20000000">
                <StackPanel>
                    <Border CornerRadius="16,16,0,0" Padding="24,20">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                <GradientStop Offset="0" Color="#1E1E2E" />
                                <GradientStop Offset="1" Color="#262640" />
                            </LinearGradientBrush>
                        </Border.Background>
                        <Grid ColumnDefinitions="Auto,*,Auto">
                            <Border Background="#10B98120" CornerRadius="12" Padding="12" Margin="0,0,16,0">
                                <TextBlock Text="ðŸ“‹" FontSize="24" VerticalAlignment="Center" />
                            </Border>
                            <StackPanel Grid.Column="1" VerticalAlignment="Center">
                                <TextBlock Text="å·²æ·»åŠ è®¾å¤‡" FontWeight="Bold" Foreground="White" FontSize="18" />
                                <TextBlock Text="ç®¡ç†å·²è¿žæŽ¥çš„è®¾å¤‡" Foreground="#A6ADC8" FontSize="12" Margin="0,4,0,0" />
                            </StackPanel>
                        </Grid>
                    </Border>
                    <StackPanel x:Name="DeviceListPanel" Margin="24" MinHeight="80">
                        <Border Background="#1E1E2E" CornerRadius="12" Padding="24">
                            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="8">
                                <TextBlock Text="ðŸ“­" FontSize="32" HorizontalAlignment="Center" Opacity="0.6" />
                                <TextBlock x:Name="NoDevicesHint" Text="æš‚æ— è®¾å¤‡" 
                                           Foreground="#A6ADC8" FontSize="14" FontWeight="SemiBold"
                                           HorizontalAlignment="Center" />
                                <TextBlock Text="è¯·åœ¨ä¸Šæ–¹æ·»åŠ è™šæ‹Ÿè®¾å¤‡æˆ–çœŸå®žè®¾å¤‡" 
                                           Foreground="#6B7280" FontSize="12"
                                           HorizontalAlignment="Center" />
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </StackPanel>
            </Border>
            
        </StackPanel>
    </ScrollViewer>
    
</UserControl>
