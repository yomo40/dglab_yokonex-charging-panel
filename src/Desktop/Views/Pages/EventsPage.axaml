<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="ChargingPanel.Desktop.Views.Pages.EventsPage">
    
    <Grid ColumnDefinitions="*,*">
        <!-- å·¦ä¾§ï¼šäº‹ä»¶åˆ—è¡¨ -->
        <Border Grid.Column="0" Background="#313244" CornerRadius="12" Padding="0" Margin="0,0,8,0">
            <DockPanel>
                <Border DockPanel.Dock="Top" Background="#1E1E2E" CornerRadius="12,12,0,0" Padding="20,16">
                    <Grid ColumnDefinitions="*,Auto">
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <TextBlock Text="âš¡" FontSize="16" Foreground="#8b5cf6" VerticalAlignment="Center" />
                            <TextBlock Text="äº‹ä»¶åˆ—è¡¨" FontWeight="SemiBold" Foreground="White" FontSize="15" VerticalAlignment="Center" />
                        </StackPanel>
                        <Button Grid.Column="1" Content="+ æ–°å»º" 
                                Background="#10B981" 
                                Foreground="White" 
                                Padding="12,6"
                                Click="OnAddEventClick" />
                    </Grid>
                </Border>
                
                <ListBox x:Name="EventList" 
                         Background="Transparent"
                         Margin="10"
                         SelectionChanged="OnEventSelectionChanged">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <Border Background="#45475A" CornerRadius="8" Padding="12" Margin="0,4">
                                <Grid ColumnDefinitions="Auto,*,Auto">
                                    <CheckBox Grid.Column="0" 
                                              IsChecked="{Binding Enabled}" 
                                              Margin="0,0,12,0" />
                                    <StackPanel Grid.Column="1">
                                        <TextBlock Text="{Binding Name}" Foreground="White" FontWeight="SemiBold" />
                                        <TextBlock Text="{Binding Description}" Foreground="#A6ADC8" FontSize="12" />
                                    </StackPanel>
                                    <Button Grid.Column="2" 
                                            Content="Ã—" 
                                            Background="#EF4444" 
                                            Foreground="White"
                                            Width="24" Height="24"
                                            Padding="0"
                                            Click="OnDeleteEventClick"
                                            Tag="{Binding Id}" />
                                </Grid>
                            </Border>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
            </DockPanel>
        </Border>
        
        <!-- å³ä¾§ï¼šäº‹ä»¶è¯¦æƒ… -->
        <Border Grid.Column="1" Background="#313244" CornerRadius="12" Padding="0" Margin="8,0,0,0">
            <DockPanel>
                <Border DockPanel.Dock="Top" Background="#1E1E2E" CornerRadius="12,12,0,0" Padding="20,16">
                    <StackPanel Orientation="Horizontal" Spacing="10">
                        <TextBlock Text="ðŸ“" FontSize="16" Foreground="#8b5cf6" VerticalAlignment="Center" />
                        <TextBlock Text="äº‹ä»¶è¯¦æƒ…" FontWeight="SemiBold" Foreground="White" FontSize="15" VerticalAlignment="Center" />
                    </StackPanel>
                </Border>
                <ScrollViewer Margin="20">
                    <StackPanel x:Name="EventDetailPanel">
                    
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="äº‹ä»¶ID" Foreground="#A6ADC8" FontSize="12" />
                        <TextBox x:Name="EventId" IsReadOnly="True" Margin="0,4,0,0" />
                    </StackPanel>
                    
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="äº‹ä»¶åç§°" Foreground="#A6ADC8" FontSize="12" />
                        <TextBox x:Name="EventName" Margin="0,4,0,0" />
                    </StackPanel>
                    
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="è§¦å‘æ¡ä»¶" Foreground="#A6ADC8" FontSize="12" />
                        <ComboBox x:Name="TriggerType" SelectedIndex="0" Margin="0,4,0,0" HorizontalAlignment="Stretch">
                            <ComboBoxItem Content="è¡€é‡å‡å°‘" Tag="decrease" />
                            <ComboBoxItem Content="è¡€é‡å¢žåŠ " Tag="increase" />
                            <ComboBoxItem Content="è§’è‰²æ­»äº¡" Tag="death" />
                            <ComboBoxItem Content="è§’è‰²å¤æ´»" Tag="revive" />
                            <ComboBoxItem Content="é˜ˆå€¼è§¦å‘" Tag="threshold" />
                        </ComboBox>
                    </StackPanel>
                    
                    <!-- ç›®æ ‡è®¾å¤‡ç±»åž‹ -->
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="ç›®æ ‡è®¾å¤‡ç±»åž‹" Foreground="#A6ADC8" FontSize="12" />
                        <ComboBox x:Name="TargetDeviceType" SelectedIndex="0" Margin="0,4,0,0" HorizontalAlignment="Stretch">
                            <ComboBoxItem Content="âš¡ DG-LAB (éƒŠç‹¼)" Tag="DGLab" />
                            <ComboBoxItem Content="ðŸ”Œ å½¹æ¬¡å…ƒ - ç”µå‡»å™¨" Tag="Yokonex_Estim" />
                            <ComboBoxItem Content="ðŸ’‰ å½¹æ¬¡å…ƒ - çŒè‚ å™¨" Tag="Yokonex_Enema" />
                            <ComboBoxItem Content="ðŸ’— å½¹æ¬¡å…ƒ - è·³è›‹" Tag="Yokonex_Vibrator" />
                            <ComboBoxItem Content="ðŸ† å½¹æ¬¡å…ƒ - é£žæœºæ¯" Tag="Yokonex_Cup" />
                            <ComboBoxItem Content="ðŸ“± æ‰€æœ‰è®¾å¤‡" Tag="All" />
                        </ComboBox>
                    </StackPanel>
                    
                    <Grid ColumnDefinitions="*,*" Margin="0,0,0,16">
                        <StackPanel Grid.Column="0" Margin="0,0,8,0">
                            <TextBlock Text="æœ€å°å˜åŒ–é‡ (%)" Foreground="#A6ADC8" FontSize="12" />
                            <TextBox x:Name="MinChange" Text="1" Margin="0,4,0,0" />
                        </StackPanel>
                        <StackPanel Grid.Column="1" Margin="8,0,0,0">
                            <TextBlock Text="æœ€å¤§å˜åŒ–é‡ (%)" Foreground="#A6ADC8" FontSize="12" />
                            <TextBox x:Name="MaxChange" Text="100" Margin="0,4,0,0" />
                        </StackPanel>
                    </Grid>
                    
                    <TextBlock Text="è§¦å‘åŠ¨ä½œ" FontWeight="Bold" Foreground="White" FontSize="14" Margin="0,16,0,12" />
                    
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="åŠ¨ä½œç±»åž‹" Foreground="#A6ADC8" FontSize="12" />
                        <ComboBox x:Name="ActionType" SelectedIndex="0" Margin="0,4,0,0" HorizontalAlignment="Stretch">
                            <ComboBoxItem Content="è®¾ç½®å¼ºåº¦" Tag="set" />
                            <ComboBoxItem Content="å¢žåŠ å¼ºåº¦" Tag="increase" />
                            <ComboBoxItem Content="å‡å°‘å¼ºåº¦" Tag="decrease" />
                            <ComboBoxItem Content="å‘é€æ³¢å½¢" Tag="waveform" />
                            <ComboBoxItem Content="å‘é€è„‰å†²" Tag="pulse" />
                            <ComboBoxItem Content="çŒè‚ æ“ä½œ (å½¹æ¬¡å…ƒ)" Tag="enema" />
                            <ComboBoxItem Content="éœ‡åŠ¨æ¨¡å¼ (å½¹æ¬¡å…ƒ)" Tag="vibrate" />
                        </ComboBox>
                    </StackPanel>
                    
                    <Grid ColumnDefinitions="*,*" Margin="0,0,0,16">
                        <StackPanel Grid.Column="0" Margin="0,0,8,0">
                            <TextBlock Text="å¼ºåº¦å€¼ (0-200)" Foreground="#A6ADC8" FontSize="12" />
                            <TextBox x:Name="ActionStrength" Text="50" Margin="0,4,0,0" />
                        </StackPanel>
                        <StackPanel Grid.Column="1" Margin="8,0,0,0">
                            <TextBlock Text="æŒç»­æ—¶é—´ (æ¯«ç§’)" Foreground="#A6ADC8" FontSize="12" />
                            <TextBox x:Name="ActionDuration" Text="1000" Margin="0,4,0,0" />
                        </StackPanel>
                    </Grid>
                    
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="ç›®æ ‡é€šé“" Foreground="#A6ADC8" FontSize="12" />
                        <ComboBox x:Name="ActionChannel" SelectedIndex="2" Margin="0,4,0,0" HorizontalAlignment="Stretch">
                            <ComboBoxItem Content="A é€šé“" Tag="A" />
                            <ComboBoxItem Content="B é€šé“" Tag="B" />
                            <ComboBoxItem Content="åŒé€šé“" Tag="AB" />
                        </ComboBox>
                    </StackPanel>
                    
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="ä¼˜å…ˆçº§ (æ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜)" Foreground="#A6ADC8" FontSize="12" />
                        <TextBox x:Name="Priority" Text="10" Margin="0,4,0,0" />
                    </StackPanel>
                    
                    <StackPanel Orientation="Horizontal" Spacing="12" Margin="0,16,0,0">
                        <Button Content="ä¿å­˜" 
                                Classes="primary" 
                                Padding="24,8"
                                Click="OnSaveEventClick" />
                        <Button Content="æµ‹è¯•è§¦å‘" 
                                Background="#F59E0B" 
                                Foreground="White" 
                                Padding="24,8"
                                Click="OnTestEventClick" />
                    </StackPanel>
                </StackPanel>
                </ScrollViewer>
            </DockPanel>
        </Border>
    </Grid>
</UserControl>
