<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="ChargingPanel.Desktop.Views.Pages.SettingsPage">
    
    <ScrollViewer>
        <StackPanel Spacing="16">
            <!-- æœåŠ¡å™¨è®¾ç½® -->
            <Border CornerRadius="16" Padding="0" BoxShadow="0 4 16 0 #10000000">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                        <GradientStop Offset="0" Color="#313244" />
                        <GradientStop Offset="1" Color="#353550" />
                    </LinearGradientBrush>
                </Border.Background>
                <StackPanel>
                    <Border CornerRadius="16,16,0,0" Padding="22,18">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                <GradientStop Offset="0" Color="#1E1E2E" />
                                <GradientStop Offset="1" Color="#262640" />
                            </LinearGradientBrush>
                        </Border.Background>
                        <StackPanel Orientation="Horizontal" Spacing="12">
                            <Border Background="#8b5cf620" CornerRadius="10" Padding="10">
                                <TextBlock Text="ðŸŒ" FontSize="18" VerticalAlignment="Center" />
                            </Border>
                            <TextBlock Text="å†…ç½®æœåŠ¡å™¨" FontWeight="Bold" Foreground="White" FontSize="16" VerticalAlignment="Center" />
                        </StackPanel>
                    </Border>
                    <StackPanel Margin="20">
                    
                    <!-- è¯´æ˜Žå¡ç‰‡ -->
                    <Border Background="#1E1E2E" CornerRadius="8" Padding="15" Margin="0,0,0,16"
                            BorderBrush="#45475A" BorderThickness="1,0,0,0">
                        <StackPanel>
                            <TextBlock Text="â„¹ï¸ æœåŠ¡å™¨è¯´æ˜Ž" Foreground="#8b5cf6" FontWeight="SemiBold" Margin="0,0,0,8" />
                            <TextBlock Text="â€¢ HTTP API: å…è®¸å…¶ä»–ç¨‹åºé€šè¿‡ REST API æŽ§åˆ¶è®¾å¤‡" 
                                       Foreground="#A6ADC8" FontSize="12" TextWrapping="Wrap" />
                            <TextBlock Text="â€¢ æœ¬åœ°éƒŠç‹¼æœåŠ¡å™¨: æ›¿ä»£å®˜æ–¹ WS æœåŠ¡å™¨ï¼Œå®žçŽ°å±€åŸŸç½‘ç›´è¿žï¼ˆé«˜çº§ç”¨æˆ·ï¼‰" 
                                       Foreground="#A6ADC8" FontSize="12" TextWrapping="Wrap" Margin="0,4,0,0" />
                        </StackPanel>
                    </Border>
                    
                    <Grid ColumnDefinitions="*,Auto" Margin="0,0,0,16">
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="HTTP API æœåŠ¡å™¨" Foreground="White" />
                            <TextBlock Text="å¯ç”¨åŽå¯é€šè¿‡ REST API æŽ§åˆ¶è®¾å¤‡" Foreground="#A6ADC8" FontSize="12" />
                        </StackPanel>
                        <ToggleSwitch x:Name="HttpServerEnabled" Grid.Column="1" IsChecked="True" />
                    </Grid>
                    
                    <Grid ColumnDefinitions="*,*" Margin="0,0,0,16">
                        <StackPanel Grid.Column="0" Margin="0,0,8,0">
                            <TextBlock Text="HTTP ç«¯å£" Foreground="#A6ADC8" FontSize="12" />
                            <TextBox x:Name="HttpPort" Text="3000" Margin="0,4,0,0" />
                        </StackPanel>
                        <StackPanel Grid.Column="1" Margin="8,0,0,0">
                            <TextBlock Text="WebSocket æŽ¨é€ç«¯å£" Foreground="#A6ADC8" FontSize="12" />
                            <TextBox x:Name="WsPort" Text="3001" Margin="0,4,0,0" />
                        </StackPanel>
                    </Grid>
                    
                    <Grid ColumnDefinitions="*,Auto" Margin="0,0,0,16">
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="æœ¬åœ°éƒŠç‹¼ WS æœåŠ¡å™¨ (é«˜çº§)" Foreground="White" />
                            <TextBlock Text="å¯åœ¨è®¾å¤‡é¡µé¢é€‰æ‹©ä½¿ç”¨ï¼Œå®žçŽ°å±€åŸŸç½‘æŽ§åˆ¶" Foreground="#A6ADC8" FontSize="12" />
                        </StackPanel>
                        <ToggleSwitch x:Name="CoyoteServerEnabled" Grid.Column="1" IsChecked="False" />
                    </Grid>
                    
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="æœ¬åœ°éƒŠç‹¼æœåŠ¡å™¨ç«¯å£" Foreground="#A6ADC8" FontSize="12" />
                        <TextBox x:Name="CoyotePort" Text="9000" Margin="0,4,0,0" />
                    </StackPanel>
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <!-- è®¾å¤‡é»˜è®¤è®¾ç½® -->
            <Border CornerRadius="16" Padding="0" BoxShadow="0 4 16 0 #10000000">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                        <GradientStop Offset="0" Color="#313244" />
                        <GradientStop Offset="1" Color="#353550" />
                    </LinearGradientBrush>
                </Border.Background>
                <StackPanel>
                    <Border CornerRadius="16,16,0,0" Padding="22,18">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                <GradientStop Offset="0" Color="#1E1E2E" />
                                <GradientStop Offset="1" Color="#262640" />
                            </LinearGradientBrush>
                        </Border.Background>
                        <StackPanel Orientation="Horizontal" Spacing="12">
                            <Border Background="#10B98120" CornerRadius="10" Padding="10">
                                <TextBlock Text="ðŸ“±" FontSize="18" VerticalAlignment="Center" />
                            </Border>
                            <TextBlock Text="è®¾å¤‡é»˜è®¤è®¾ç½®" FontWeight="Bold" Foreground="White" FontSize="16" VerticalAlignment="Center" />
                        </StackPanel>
                    </Border>
                    <StackPanel Margin="20">
                    <Grid ColumnDefinitions="*,*" Margin="0,0,0,16">
                        <StackPanel Grid.Column="0" Margin="0,0,8,0">
                            <TextBlock Text="é»˜è®¤å¼ºåº¦ä¸Šé™" Foreground="#A6ADC8" FontSize="12" />
                            <TextBox x:Name="DefaultMaxStrength" Text="200" Margin="0,4,0,0" />
                        </StackPanel>
                        <StackPanel Grid.Column="1" Margin="8,0,0,0">
                            <TextBlock Text="æ³¢å½¢é˜Ÿåˆ—æœ€å¤§é•¿åº¦" Foreground="#A6ADC8" FontSize="12" />
                            <TextBox x:Name="MaxWaveformQueue" Text="500" Margin="0,4,0,0" />
                        </StackPanel>
                    </Grid>
                    
                    <Grid ColumnDefinitions="*,Auto" Margin="0,0,0,16">
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="è‡ªåŠ¨é‡è¿ž" Foreground="White" />
                            <TextBlock Text="è®¾å¤‡æ–­å¼€åŽè‡ªåŠ¨å°è¯•é‡è¿ž" Foreground="#A6ADC8" FontSize="12" />
                        </StackPanel>
                        <ToggleSwitch x:Name="AutoReconnect" Grid.Column="1" IsChecked="True" />
                    </Grid>
                    
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="å¿ƒè·³é—´éš” (æ¯«ç§’)" Foreground="#A6ADC8" FontSize="12" />
                        <TextBox x:Name="HeartbeatInterval" Text="10000" Margin="0,4,0,0" />
                    </StackPanel>
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <!-- å¤–è§‚è®¾ç½® -->
            <Border CornerRadius="16" Padding="0" BoxShadow="0 4 16 0 #10000000">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                        <GradientStop Offset="0" Color="#313244" />
                        <GradientStop Offset="1" Color="#353550" />
                    </LinearGradientBrush>
                </Border.Background>
                <StackPanel>
                    <Border CornerRadius="16,16,0,0" Padding="22,18">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                <GradientStop Offset="0" Color="#1E1E2E" />
                                <GradientStop Offset="1" Color="#262640" />
                            </LinearGradientBrush>
                        </Border.Background>
                        <StackPanel Orientation="Horizontal" Spacing="12">
                            <Border Background="#F59E0B20" CornerRadius="10" Padding="10">
                                <TextBlock Text="ðŸŽ¨" FontSize="18" VerticalAlignment="Center" />
                            </Border>
                            <TextBlock Text="å¤–è§‚è®¾ç½®" FontWeight="Bold" Foreground="White" FontSize="16" VerticalAlignment="Center" />
                        </StackPanel>
                    </Border>
                    <StackPanel Margin="20">
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="ä¸»é¢˜" Foreground="#A6ADC8" FontSize="12" />
                        <ComboBox x:Name="ThemeSelector" SelectedIndex="0" Margin="0,4,0,0" HorizontalAlignment="Stretch">
                            <ComboBoxItem Content="æ·±è‰² (Catppuccin Mocha)" />
                            <ComboBoxItem Content="æµ…è‰²" />
                            <ComboBoxItem Content="è·Ÿéšç³»ç»Ÿ" />
                        </ComboBox>
                    </StackPanel>
                    
                    <Grid ColumnDefinitions="*,Auto">
                        <StackPanel Grid.Column="0">
                            <TextBlock Text="å¯åŠ¨æ—¶æœ€å°åŒ–åˆ°æ‰˜ç›˜" Foreground="White" />
                            <TextBlock Text="ç¨‹åºå¯åŠ¨åŽè‡ªåŠ¨æœ€å°åŒ–åˆ°ç³»ç»Ÿæ‰˜ç›˜" Foreground="#A6ADC8" FontSize="12" />
                        </StackPanel>
                        <ToggleSwitch x:Name="MinimizeToTray" Grid.Column="1" IsChecked="False" />
                    </Grid>
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <!-- æ—¥å¿—è®¾ç½® -->
            <Border CornerRadius="16" Padding="0" BoxShadow="0 4 16 0 #10000000">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                        <GradientStop Offset="0" Color="#313244" />
                        <GradientStop Offset="1" Color="#353550" />
                    </LinearGradientBrush>
                </Border.Background>
                <StackPanel>
                    <Border CornerRadius="16,16,0,0" Padding="22,18">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                <GradientStop Offset="0" Color="#1E1E2E" />
                                <GradientStop Offset="1" Color="#262640" />
                            </LinearGradientBrush>
                        </Border.Background>
                        <StackPanel Orientation="Horizontal" Spacing="12">
                            <Border Background="#3B82F620" CornerRadius="10" Padding="10">
                                <TextBlock Text="ðŸ“‹" FontSize="18" VerticalAlignment="Center" />
                            </Border>
                            <TextBlock Text="æ—¥å¿—è®¾ç½®" FontWeight="Bold" Foreground="White" FontSize="16" VerticalAlignment="Center" />
                        </StackPanel>
                    </Border>
                    <StackPanel Margin="20">
                    <StackPanel Margin="0,0,0,16">
                        <TextBlock Text="æ—¥å¿—çº§åˆ«" Foreground="#A6ADC8" FontSize="12" />
                        <ComboBox x:Name="LogLevel" SelectedIndex="1" Margin="0,4,0,0" HorizontalAlignment="Stretch">
                            <ComboBoxItem Content="Verbose" />
                            <ComboBoxItem Content="Debug" />
                            <ComboBoxItem Content="Information" />
                            <ComboBoxItem Content="Warning" />
                            <ComboBoxItem Content="Error" />
                        </ComboBox>
                    </StackPanel>
                    
                    <!-- æ•°æ®åº“æ—¥å¿—ç®¡ç† -->
                    <Border Background="#1E1E2E" CornerRadius="8" Padding="16" Margin="0,0,0,16">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Spacing="8" Margin="0,0,0,12">
                                <TextBlock Text="ðŸ—„ï¸" FontSize="14" VerticalAlignment="Center" />
                                <TextBlock Text="æ•°æ®åº“æ—¥å¿—" Foreground="White" FontWeight="SemiBold" FontSize="14" VerticalAlignment="Center" />
                            </StackPanel>
                            <TextBlock x:Name="DatabaseLogInfo" Text="æ•°æ®åº“æ—¥å¿—ï¼š0 æ¡ï¼Œçº¦ 0 KB" Foreground="#A6ADC8" FontSize="12" Margin="0,0,0,12" />
                            
                            <StackPanel Orientation="Horizontal" Spacing="12" Margin="0,0,0,12">
                                <TextBlock Text="ä¿ç•™å¤©æ•°ï¼š" Foreground="#A6ADC8" FontSize="12" VerticalAlignment="Center" />
                                <ComboBox x:Name="LogRetentionDays" SelectedIndex="0" Width="80">
                                    <ComboBoxItem Content="7 å¤©" Tag="7" />
                                    <ComboBoxItem Content="10 å¤©" Tag="10" />
                                    <ComboBoxItem Content="30 å¤©" Tag="30" />
                                </ComboBox>
                            </StackPanel>
                            
                            <StackPanel Orientation="Horizontal" Spacing="10">
                                <Button Content="ðŸ§¹ æ¸…ç†æ—§æ—¥å¿—" 
                                        Background="#F59E0B" 
                                        Foreground="White"
                                        Click="OnClearDatabaseLogsClick" />
                                <Button Content="ðŸ—‘ï¸ æ¸…ç©ºå…¨éƒ¨" 
                                        Background="#EF4444" 
                                        Foreground="White"
                                        Click="OnClearAllDatabaseLogsClick" />
                            </StackPanel>
                        </StackPanel>
                    </Border>
                    
                    <!-- æ–‡ä»¶æ—¥å¿—ç®¡ç† -->
                    <Border Background="#1E1E2E" CornerRadius="8" Padding="16" Margin="0,0,0,16">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Spacing="8" Margin="0,0,0,12">
                                <TextBlock Text="ðŸ“„" FontSize="14" VerticalAlignment="Center" />
                                <TextBlock Text="æ–‡ä»¶æ—¥å¿—ï¼ˆæ°¸ä¹…ä¿ç•™ï¼‰" Foreground="White" FontWeight="SemiBold" FontSize="14" VerticalAlignment="Center" />
                            </StackPanel>
                            <TextBlock x:Name="FileLogInfo" Text="æ–‡ä»¶æ—¥å¿—ï¼š0 ä¸ªæ–‡ä»¶ï¼Œå…± 0 KB" Foreground="#A6ADC8" FontSize="12" Margin="0,0,0,12" />
                            <TextBlock Text="æ–‡ä»¶æ—¥å¿—ä¸è‡ªåŠ¨æ¸…ç†ï¼Œéœ€æ‰‹åŠ¨åˆ é™¤ä»¥ç¡®ä¿æ•°æ®ç•™å­˜" Foreground="#6C7086" FontSize="11" FontStyle="Italic" Margin="0,0,0,12" />
                            
                            <StackPanel Orientation="Horizontal" Spacing="10">
                                <Button Content="ðŸ“‚ æ‰“å¼€æ—¥å¿—æ–‡ä»¶å¤¹" 
                                        Background="#45475A" 
                                        Foreground="White"
                                        Click="OnOpenLogsFolderClick" />
                                <Button Content="ðŸ—‘ï¸ æ‰‹åŠ¨æ¸…ç†æ–‡ä»¶" 
                                        Background="#6366F1" 
                                        Foreground="White"
                                        Click="OnManualCleanLogFilesClick" />
                            </StackPanel>
                        </StackPanel>
                    </Border>
                    
                    <Button Content="ðŸ”„ åˆ·æ–°æ—¥å¿—ä¿¡æ¯" 
                            Background="#10B981" 
                            Foreground="White"
                            Click="OnRefreshLogInfoClick" />
                    </StackPanel>
                </StackPanel>
            </Border>
            
            <!-- å…³äºŽ -->
            <Border CornerRadius="16" Padding="0" BoxShadow="0 4 16 0 #188b5cf6">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                        <GradientStop Offset="0" Color="#313244" />
                        <GradientStop Offset="1" Color="#353550" />
                    </LinearGradientBrush>
                </Border.Background>
                <StackPanel>
                    <Border CornerRadius="16,16,0,0" Padding="22,18">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0%,0%" EndPoint="100%,100%">
                                <GradientStop Offset="0" Color="#1E1E2E" />
                                <GradientStop Offset="1" Color="#262640" />
                            </LinearGradientBrush>
                        </Border.Background>
                        <StackPanel Orientation="Horizontal" Spacing="12">
                            <Border Background="#8b5cf620" CornerRadius="10" Padding="10">
                                <TextBlock Text="â„¹ï¸" FontSize="18" VerticalAlignment="Center" />
                            </Border>
                            <TextBlock Text="å…³äºŽ" FontWeight="Bold" Foreground="White" FontSize="16" VerticalAlignment="Center" />
                        </StackPanel>
                    </Border>
                    <StackPanel Margin="20">
                    
                    <TextBlock Text="éƒŠç‹¼ &amp; å½¹æ¬¡å…ƒæ¸¸æˆé€‚é…é¢æ¿" Foreground="White" FontSize="16" FontWeight="SemiBold" />
                    <TextBlock x:Name="VersionText" Text="ç‰ˆæœ¬ 0.9.6" Foreground="#A6ADC8" FontSize="12" Margin="0,8,0,0" />
                    <TextBlock Text="åŸºäºŽ .NET 8 + Avalonia UI æž„å»º" Foreground="#A6ADC8" FontSize="12" Margin="0,4,0,0" />
                    
                    <Border Background="#45475A" CornerRadius="8" Padding="16" Margin="0,16,0,0">
                        <StackPanel>
                            <TextBlock Text="å¼€å‘è€…ä¿¡æ¯" Foreground="#CDD6F4" FontWeight="SemiBold" FontSize="14" />
                            <Grid ColumnDefinitions="Auto,*" RowDefinitions="Auto,Auto" Margin="0,12,0,0">
                                <TextBlock Grid.Row="0" Grid.Column="0" Text="ä½œè€…ï¼š" Foreground="#A6ADC8" FontSize="13" />
                                <TextBlock Grid.Row="0" Grid.Column="1" Text="yomo40" Foreground="#89B4FA" FontSize="13" FontWeight="SemiBold" />
                                <TextBlock Grid.Row="1" Grid.Column="0" Text="GitHubï¼š" Foreground="#A6ADC8" FontSize="13" Margin="0,4,0,0" />
                                <TextBlock Grid.Row="1" Grid.Column="1" x:Name="GitHubLink" 
                                           Text="https://github.com/yomo40/dglab_yokonex-charging-panel" 
                                           Foreground="#89B4FA" FontSize="13" Margin="0,4,0,0"
                                           Cursor="Hand"
                                           PointerPressed="OnGitHubLinkClick">
                                    <TextBlock.TextDecorations>
                                        <TextDecorationCollection>
                                            <TextDecoration Location="Underline" />
                                        </TextDecorationCollection>
                                    </TextBlock.TextDecorations>
                                </TextBlock>
                            </Grid>
                        </StackPanel>
                    </Border>
                    
                    <StackPanel Orientation="Horizontal" Spacing="12" Margin="0,16,0,0">
                        <Button Content="ðŸ  é¡¹ç›®ä¸»é¡µ" Background="#6366F1" Foreground="White" Padding="16,8" Click="OnGitHubClick" />
                        <Button Content="ðŸ“ é—®é¢˜åé¦ˆ" Background="#45475A" Foreground="White" Padding="16,8" Click="OnIssuesClick" />
                        <Button Content="ðŸ“š ä½¿ç”¨æ–‡æ¡£" Background="#45475A" Foreground="White" Padding="16,8" Click="OnDocsClick" />
                    </StackPanel>
                    </StackPanel>
                </StackPanel>
            </Border>
        </StackPanel>
    </ScrollViewer>
</UserControl>
