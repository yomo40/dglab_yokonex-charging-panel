<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="ChargingPanel.Desktop.Views.MainWindow"
        Title="éƒŠç‹¼&amp;å½¹æ¬¡å…ƒæ¸¸æˆé€‚é…é¢æ¿"
        Width="1200" Height="800"
        MinWidth="1000" MinHeight="700"
        WindowStartupLocation="CenterScreen"
        Background="#11111B">
    
    <Window.Styles>
        <Style Selector="Button.nav">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Foreground" Value="#6C7086" />
            <Setter Property="HorizontalAlignment" Value="Stretch" />
            <Setter Property="HorizontalContentAlignment" Value="Left" />
            <Setter Property="Padding" Value="14,12" />
            <Setter Property="CornerRadius" Value="10" />
            <Setter Property="Margin" Value="0,2" />
        </Style>
        <Style Selector="Button.nav:pointerover /template/ ContentPresenter">
            <Setter Property="Background" Value="#1E1E2E" />
        </Style>
        <Style Selector="Button.nav-active">
            <Setter Property="Background" Value="#313244" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="HorizontalAlignment" Value="Stretch" />
            <Setter Property="HorizontalContentAlignment" Value="Left" />
            <Setter Property="Padding" Value="14,12" />
            <Setter Property="CornerRadius" Value="10" />
            <Setter Property="Margin" Value="0,2" />
        </Style>
    </Window.Styles>
    
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="220" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        
        <!-- ä¾§è¾¹æ  -->
        <Border Grid.Column="0" Background="#181825">
            <DockPanel Margin="12">
                <!-- Logo -->
                <Border DockPanel.Dock="Top" Margin="0,8,0,24">
                    <StackPanel HorizontalAlignment="Center">
                        <Border Background="#8b5cf6" CornerRadius="16" Width="56" Height="56" 
                                HorizontalAlignment="Center">
                            <TextBlock Text="âš¡" FontSize="28" 
                                       HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <TextBlock Text="æ¸¸æˆé€‚é…é¢æ¿" FontSize="16" FontWeight="SemiBold"
                                   Foreground="White" HorizontalAlignment="Center" Margin="0,12,0,0" />
                        <TextBlock Text="v1.0.0" FontSize="11" Foreground="#45475A" 
                                   HorizontalAlignment="Center" Margin="0,2,0,0" />
                    </StackPanel>
                </Border>

                <!-- å¯¼èˆªèœå• -->
                <StackPanel DockPanel.Dock="Top">
                    <TextBlock Text="ä¸»è¦åŠŸèƒ½" FontSize="11" Foreground="#45475A" 
                               Margin="14,0,0,8" FontWeight="SemiBold" />
                    
                    <Button x:Name="NavOverview" Content="ðŸ   æ¦‚è§ˆ" Classes="nav-active"
                            Click="OnNavClick" Tag="Overview" />
                    <Button x:Name="NavDevices" Content="ðŸ“±  è®¾å¤‡ç®¡ç†" Classes="nav"
                            Click="OnNavClick" Tag="Devices" />
                    <Button x:Name="NavControl" Content="ðŸŽš  è®¾å¤‡æŽ§åˆ¶" Classes="nav"
                            Click="OnNavClick" Tag="Control" />
                    
                    <TextBlock Text="æ¸¸æˆè”åŠ¨" FontSize="11" Foreground="#45475A" 
                               Margin="14,20,0,8" FontWeight="SemiBold" />
                    
                    <Button x:Name="NavOCR" Content="ðŸ‘  è¡€é‡è¯†åˆ«" Classes="nav"
                            Click="OnNavClick" Tag="OCR" />
                    <Button x:Name="NavEvents" Content="âš¡  ç”µå‡»è°ƒèŠ‚" Classes="nav"
                            Click="OnNavClick" Tag="Events" />
                    <Button x:Name="NavPlugins" Content="ðŸŽ®  æ¸¸æˆé€‚é…" Classes="nav"
                            Click="OnNavClick" Tag="Plugins" />
                    <Button x:Name="NavRoom" Content="ðŸ   å¤šäººæˆ¿é—´" Classes="nav"
                            Click="OnNavClick" Tag="Room" />
                    
                    <TextBlock Text="ç³»ç»Ÿ" FontSize="11" Foreground="#45475A" 
                               Margin="14,20,0,8" FontWeight="SemiBold" />
                    
                    <Button x:Name="NavLogs" Content="ðŸ“‹  åŠ¨ä½œæ—¥å¿—" Classes="nav"
                            Click="OnNavClick" Tag="Logs" />
                    <Button x:Name="NavSettings" Content="âš™  ç³»ç»Ÿè®¾ç½®" Classes="nav"
                            Click="OnNavClick" Tag="Settings" />
                </StackPanel>
                
                <!-- åº•éƒ¨çŠ¶æ€ -->
                <Border DockPanel.Dock="Bottom" Background="#1E1E2E" CornerRadius="12" Padding="14">
                    <StackPanel Spacing="12">
                        <StackPanel Orientation="Horizontal" Spacing="10">
                            <Ellipse x:Name="StatusIndicator" Width="10" Height="10" Fill="#6B7280" />
                            <TextBlock x:Name="StatusText" Text="æœªè¿žæŽ¥è®¾å¤‡" 
                                       Foreground="#A6ADC8" FontSize="12" TextWrapping="Wrap" />
                        </StackPanel>
                        
                        <Button Content="ðŸ›‘ ç´§æ€¥åœæ­¢" Background="#DC2626" Foreground="White"
                                HorizontalAlignment="Stretch" Padding="0,10" CornerRadius="8"
                                FontWeight="SemiBold" Click="OnEmergencyStopClick" />
                        
                        <TextBlock Text="Made with â¤ï¸ by yomo40" Foreground="#45475A" 
                                   FontSize="10" HorizontalAlignment="Center" />
                    </StackPanel>
                </Border>
            </DockPanel>
        </Border>

        <!-- ä¸»å†…å®¹åŒº -->
        <Border Grid.Column="1" Background="#1E1E2E" CornerRadius="24,0,0,0" Margin="0">
            <Grid Margin="28,24">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                
                <!-- é¡µé¢æ ‡é¢˜æ  -->
                <Grid Grid.Row="0" Margin="0,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    
                    <StackPanel Grid.Column="0">
                        <TextBlock x:Name="PageTitle" Text="æ¦‚è§ˆ" FontSize="26" 
                                   FontWeight="Bold" Foreground="White" />
                        <TextBlock x:Name="PageDescription" Text="è®¾å¤‡çŠ¶æ€æ€»è§ˆä¸Žå¿«æ·æŽ§åˆ¶" 
                                   FontSize="13" Foreground="#6C7086" Margin="0,6,0,0" />
                    </StackPanel>
                    
                    <!-- å…¨å±€ä¿å­˜æŒ‰é’® (ä»…åœ¨è®¾ç½®/OCR/Eventsé¡µé¢å¯è§) -->
                    <Button x:Name="GlobalSaveButton" Grid.Column="1" 
                            Content="ðŸ’¾ ä¿å­˜è®¾ç½®" 
                            Background="#10B981" Foreground="White"
                            Padding="16,10" CornerRadius="8"
                            FontWeight="SemiBold"
                            VerticalAlignment="Center"
                            IsVisible="False"
                            Click="OnGlobalSaveClick" />
                </Grid>
                
                <!-- é¡µé¢å®¹å™¨ -->
                <Border Grid.Row="1" x:Name="PageContainer" />
            </Grid>
        </Border>
    </Grid>
</Window>
